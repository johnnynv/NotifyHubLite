# Default values for notifyhub-lite
replicaCount: 2

image:
  repository: ghcr.io/johnnynv/notifyhub-lite
  pullPolicy: IfNotPresent
  tag: "1.2.4"

imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""

serviceAccount:
  create: true
  automount: true
  annotations: {}
  name: ""

podAnnotations: {}
podLabels: {}

podSecurityContext:
  fsGroup: 2000

securityContext:
  capabilities:
    drop:
    - ALL
  readOnlyRootFilesystem: true
  runAsNonRoot: true
  runAsUser: 1000

service:
  type: NodePort
  port: 80
  targetPort: 8000
  nodePort: 30080

ingress:
  enabled: false
  className: ""
  annotations: {}
  hosts:
    - host: notifyhub-lite.local
      paths:
        - path: /
          pathType: Prefix
  tls: []

resources:
  limits:
    cpu: 500m
    memory: 512Mi
  requests:
    cpu: 250m
    memory: 256Mi

livenessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 30
  periodSeconds: 30

readinessProbe:
  httpGet:
    path: /health
    port: http
  initialDelaySeconds: 5
  periodSeconds: 10

autoscaling:
  enabled: false
  minReplicas: 1
  maxReplicas: 100
  targetCPUUtilizationPercentage: 80

volumes:
  - name: tmp
    emptyDir: {}

volumeMounts:
  - name: tmp
    mountPath: /tmp

nodeSelector: {}

tolerations: []

affinity: {}

# Application configuration
config:
  apiKey: "notify-hub-api-key-123"
  serverIp: "127.0.0.1"
  domainSuffix: "nip.io"
  debug: false

# SMTP configuration
smtp:
  enabled: true
  host: "localhost"
  port: 25
  username: ""
  password: ""
  useTls: false
  fromName: "NotifyHub System"
  fromEmail: ""

# PostgreSQL dependency configuration
postgresql:
  enabled: true
  auth:
    postgresPassword: "postgres-password"
    username: "notifyhub"
    password: "notifyhub-password"
    database: "notifyhublite"
  primary:
    persistence:
      enabled: true
      size: 8Gi

# Postfix SMTP server configuration
postfix:
  enabled: true
  image:
    repository: juanluisbaptiste/postfix
    tag: latest
  config:
    smtpServer: "smtp.nvidia.com"
    smtpPort: 25
    smtpNetworks: "10.0.0.0/8,172.16.0.0/12,192.168.0.0/16"
  service:
    type: ClusterIP
    port: 25
